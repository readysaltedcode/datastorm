<!DOCTYPE html>
<html lang="en">

  <head>

    <!-- Meta, title, CSS, favicons, etc. -->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- TODO: fill this in -->
    <meta name="description" content="datastorm: is a digital data driven dance performance that derives its movements and concepts from computer science theory. The performance will break down certain theories and concepts during the performance through the movement of ballet.">
    <meta name="keywords" content="d3, digital, ballet, DataVis, SVG">
    <meta name="author" content="readysaltedcode cic">


    <title>Home</title>

    <!-- Core Bootstrap CSS -->
    <link rel="stylesheet" type="text/css" href="css/bootstrap.min.css" />
    <!-- arrastre.org CSS -->
    <link rel="stylesheet" type="text/css" href="css/main.css" />
    <!-- Google font - Quicksand -->
    <link href='http://fonts.googleapis.com/css?family=Quicksand:700' rel='stylesheet' type='text/css'>

    <!-- Favicon -->
    <link rel="shortcut icon" href="favicon.ico" type="image/x-icon">
    <link rel="icon" href="favicon.ico" type="image/x-icon">

  </head>

  <body>
    <div class="container">
      <nav class="navbar navbar-default" role="navigation">
        <div class="container-fluid">
          <!-- Brand and toggle get grouped for better mobile display -->
          <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
              <span class="sr-only">Toggle navigation</span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="index.html"><img src="img/logo.png" /></a>
          </div>

          <!-- Collect the nav links, forms, and other content for toggling -->
          <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
            <ul class="nav navbar-nav" id="nav-list">
              <li><a href="about.html">ABOUT</a></li>
              <li><a href="dance.html">DANCE</a></li>
              <li><a href="datavis.html">DATA VIS</a></li>
              <li><a href="resources.html">RESOURCES</a></li>
            </ul>
          </div><!-- /.navbar-collapse -->
        </div><!-- /.container-fluid -->
      </nav>
      <div class="row main-container">
        <div class="col-md-12">
          <div id='datavis'>

            <div id='animation-container-1'>
            <div class="row data-vis-header">
              <div class="col-lg-2 col-md-1">
              </div> <!-- /col -->
              <div class="col-lg-8 col-md-10" id="data-vis-nav">
                <div class="col-lg-1 col-md-1 col-sm-1 col-xs-1 data-vis-nav-button">
                  <a onclick="loadAnimation(5);"><span class="glyphicon glyphicon-chevron-left"></span></a>
                </div> <!-- /col -->
                <div class="col-lg-10 col-md-10 col-sm-10 col-xs-10">
                  <p class="data-vis-title">ALGORITHMS</p>
                </div> <!-- /col -->
                <div class="col-lg-1 col-md-1 col-sm-1 col-xs-1 data-vis-nav-button">
                  <a onclick="loadAnimation(2);"><span class="glyphicon glyphicon-chevron-right"></span></a>
                </div> <!-- /col -->
              </div> <!-- /col -->
              <div class="col-lg-2 col-md-1">
              </div> <!-- /col -->
            </div> <!-- /row -->
              <div class="row data-vis-container">
                <div class="col-lg-2 col-md-1">
                </div> <!-- /col -->
                  <div class="col-lg-8 col-md-10" id="data-vis-animation">
                    <p data-height="616" data-theme-id="8632" data-slug-hash="ImbJL" data-default-tab="result" data-user="readysaltedcode" class='codepen'>See the Pen <a href='http://codepen.io/readysaltedcode/pen/ImbJL/'>ImbJL</a> by Genevieve Smith-Nunes (<a href='http://codepen.io/readysaltedcode'>@readysaltedcode</a>) on <a href='http://codepen.io'>CodePen</a>.</p>
                    <script async src="http://codepen.io/assets/embed/ei.js"></script>
                  </div> <!-- /col -->
                <div class="col-lg-2 col-md-1">
                </div> <!-- /col -->
              </div> <!-- /data-vis-container -->
            </div><!-- /animation-container-1 -->

            <div id='animation-container-2'>
            <div class="row data-vis-header">
              <div class="col-lg-2 col-md-1">
              </div> <!-- /col -->
              <div class="col-lg-8 col-md-10" id="data-vis-nav">
                <div class="col-lg-1 col-md-1 col-sm-1 col-xs-1 data-vis-nav-button">
                  <a onclick="loadAnimation(1);"><span class="glyphicon glyphicon-chevron-left"></span></a>
                </div> <!-- /col -->
                <div class="col-lg-10 col-md-10 col-sm-10 col-xs-10">
                  <p class="data-vis-title">DEBUGGING</p>
                </div> <!-- /col -->
                <div class="col-lg-1 col-md-1 col-sm-1 col-xs-1 data-vis-nav-button">
                  <a onclick="loadAnimation(3);"><span class="glyphicon glyphicon-chevron-right"></span></a>
                </div> <!-- /col -->
              </div> <!-- /col -->
              <div class="col-lg-2 col-md-1">
              </div> <!-- /col -->
            </div> <!-- /row -->
              <div class="row data-vis-container">
                <div class="col-lg-2 col-md-1">
                </div> <!-- /col -->
                  <div class="col-lg-8 col-md-10" id="data-vis-animation">
                    <p data-height="616" data-theme-id="8632" data-slug-hash="ILDyu" data-default-tab="result" data-user="readysaltedcode" class='codepen'>See the Pen <a href='http://codepen.io/readysaltedcode/pen/ILDyu/'>ILDyu</a> by Genevieve Smith-Nunes (<a href='http://codepen.io/readysaltedcode'>@readysaltedcode</a>) on <a href='http://codepen.io'>CodePen</a>.</p>
                    <script async src="http://codepen.io/assets/embed/ei.js"></script>
                  </div> <!-- /col -->
                <div class="col-lg-2 col-md-1">
                </div> <!-- /col -->
              </div> <!-- /data-vis-container -->
            </div><!-- /animation-container-2 -->

            <div id='animation-container-3'>
            <div class="row data-vis-header">
              <div class="col-lg-2 col-md-1">
              </div> <!-- /col -->
              <div class="col-lg-8 col-md-10" id="data-vis-nav">
                <div class="col-lg-1 col-md-1 col-sm-1 col-xs-1 data-vis-nav-button">
                  <a onclick="loadAnimation(2);"><span class="glyphicon glyphicon-chevron-left"></span></a>
                </div> <!-- /col -->
                <div class="col-lg-10 col-md-10 col-sm-10 col-xs-10">
                  <p class="data-vis-title">BIG DATA</p>
                </div> <!-- /col -->
                <div class="col-lg-1 col-md-1 col-sm-1 col-xs-1 data-vis-nav-button">
                  <a onclick="loadAnimation(4);"><span class="glyphicon glyphicon-chevron-right"></span></a>
                </div> <!-- /col -->
              </div> <!-- /col -->
              <div class="col-lg-2 col-md-1">
              </div> <!-- /col -->
            </div> <!-- /row -->
              <div class="row data-vis-container">
                <div class="col-lg-2 col-md-1">
                </div> <!-- /col -->
                  <div class="col-lg-8 col-md-10" id="data-vis-animation">
                    <p data-height="616" data-theme-id="8632" data-slug-hash="yLebI" data-default-tab="result" data-user="readysaltedcode" class='codepen'>See the Pen <a href='http://codepen.io/readysaltedcode/pen/yLebI/'>yLebI</a> by Genevieve Smith-Nunes (<a href='http://codepen.io/readysaltedcode'>@readysaltedcode</a>) on <a href='http://codepen.io'>CodePen</a>.</p>
                    <script async src="http://codepen.io/assets/embed/ei.js"></script>
                  </div> <!-- /col -->
                <div class="col-lg-2 col-md-1">
                </div> <!-- /col -->
              </div> <!-- /data-vis-container -->
            </div><!-- /animation-container-3 -->

            <div id='animation-container-4'>
            <div class="row data-vis-header">
              <div class="col-lg-2 col-md-1">
              </div> <!-- /col -->
              <div class="col-lg-8 col-md-10" id="data-vis-nav">
                <div class="col-lg-1 col-md-1 col-sm-1 col-xs-1 data-vis-nav-button">
                  <a onclick="loadAnimation(3);"><span class="glyphicon glyphicon-chevron-left"></span></a>
                </div> <!-- /col -->
                <div class="col-lg-10 col-md-10 col-sm-10 col-xs-10">
                  <p class="data-vis-title">BINARY/BOOLEAN</p>
                </div> <!-- /col -->
                <div class="col-lg-1 col-md-1 col-sm-1 col-xs-1 data-vis-nav-button">
                  <a onclick="loadAnimation(5);"><span class="glyphicon glyphicon-chevron-right"></span></a>
                </div> <!-- /col -->
              </div> <!-- /col -->
              <div class="col-lg-2 col-md-1">
              </div> <!-- /col -->
            </div> <!-- /row -->
              <div class="row data-vis-container">
                <div class="col-lg-2 col-md-1">
                </div> <!-- /col -->
                  <div class="col-lg-8 col-md-10" id="data-vis-animation">
                    <p data-height="616" data-theme-id="8632" data-slug-hash="ALDEp" data-default-tab="result" data-user="readysaltedcode" class='codepen'>See the Pen <a href='http://codepen.io/readysaltedcode/pen/ALDEp/'>ALDEp</a> by Genevieve Smith-Nunes (<a href='http://codepen.io/readysaltedcode'>@readysaltedcode</a>) on <a href='http://codepen.io'>CodePen</a>.</p>
                    <script async src="http://codepen.io/assets/embed/ei.js"></script>
                  </div> <!-- /col -->
                <div class="col-lg-2 col-md-1">
                </div> <!-- /col -->
              </div> <!-- /data-vis-container -->
            </div><!-- /animation-container-4 -->

            <div id='animation-container-5'>
            <div class="row data-vis-header">
              <div class="col-lg-2 col-md-1">
              </div> <!-- /col -->
              <div class="col-lg-8 col-md-10" id="data-vis-nav">
                <div class="col-lg-1 col-md-1 col-sm-1 col-xs-1 data-vis-nav-button">
                  <a onclick="loadAnimation(4);"><span class="glyphicon glyphicon-chevron-left"></span></a>
                </div> <!-- /col -->
                <div class="col-lg-10 col-md-10 col-sm-10 col-xs-10">
                  <p class="data-vis-title">COMPUTATION</p>
                </div> <!-- /col -->
                <div class="col-lg-1 col-md-1 col-sm-1 col-xs-1 data-vis-nav-button">
                  <a onclick="loadAnimation(1);"><span class="glyphicon glyphicon-chevron-right"></span></a>
                </div> <!-- /col -->
              </div> <!-- /col -->
              <div class="col-lg-2 col-md-1">
              </div> <!-- /col -->
            </div> <!-- /row -->
              <div class="row data-vis-container">
                <div class="col-lg-2 col-md-1">
                </div> <!-- /col -->
                  <div class="col-lg-8 col-md-10" id="data-vis-animation">
                    <p data-height="616" data-theme-id="8632" data-slug-hash="Ewgus" data-default-tab="result" data-user="readysaltedcode" class='codepen'>See the Pen <a href='http://codepen.io/readysaltedcode/pen/Ewgus/'>Ewgus</a> by Genevieve Smith-Nunes (<a href='http://codepen.io/readysaltedcode'>@readysaltedcode</a>) on <a href='http://codepen.io'>CodePen</a>.</p>
                    <script async src="http://codepen.io/assets/embed/ei.js"></script>
                  </div> <!-- /col -->
                <div class="col-lg-2 col-md-1">
                </div> <!-- /col -->
              </div> <!-- /data-vis-container -->
            </div><!-- /animation-container-5 -->

            <div class="row data-vis-subnav">
              <div class="col-lg-2 col-md-1 hidden-sm hidden-xs">
              </div> <!-- /col -->
              <div class="col-lg-8 col-md-10" id="data-vis-subnav">

                <a onclick="loadAnimation(1);">
                  <div class="col-lg-five data-vis-subnav-button data-vis-subnav-1" id="active-data-vis-button">
                    <p>ALGORITHMS</p>
                  </div>
                </a>

                <a onclick="loadAnimation(2);">
                  <div class="col-lg-five data-vis-subnav-button data-vis-subnav-2">
                    <p>DEBUGGING</p>
                  </div>
                </a>

                <a onclick="loadAnimation(3);">
                  <div class="col-lg-five data-vis-subnav-button data-vis-subnav-3">
                    <p>BIG DATA</p>
                  </div>
                </a>

                <a onclick="loadAnimation(4);">
                  <div class="col-lg-five data-vis-subnav-button data-vis-subnav-4">
                    <p>BINARY/BOOLEAN</p>
                  </div>
                </a>

                <a onclick="loadAnimation(5);">
                  <div class="col-lg-five data-vis-subnav-button data-vis-subnav-5">
                    <p>COMPUTATION</p>
                  </div>
                </a>

              </div> <!-- /col -->
              <div class="col-lg-2 col-md-1"></div>
            </div> <!-- /row -->


            <div id='code-container-1' class="row data-vis-code">
              <div class="col-lg-2 col-md-1 hidden-sm hidden-xs">
              </div> <!-- /col -->
              <div class="col-lg-8 col-md-10">
                <div data-height="5000" data-theme-id="8632" data-slug-hash="ImbJL" data-default-tab="js" data-user="readysaltedcode" class='codepen'>
                  <pre><code>
                    var xScale = d3.scale.linear().domain([-1.7, 1.7]).range([0, 800]);
                    var yScale = d3.scale.linear().domain([-1.7, 1.7]).range([800, 0]);
                    var radiusScale = d3.scale.linear().domain([5, 0]).range([3, 16]);
                    var colorScale = d3.scale.linear().domain([0, 5]).range([&#39;brown&#39;, &#39;yellow&#39;]);

                    var interpolationScale = d3.scale.linear().domain([0, 205000, 330000]).range([1, 1, 0.02]).clamp(true);
                    var depthScale = d3.scale.linear().domain([0, 31000, 47000, 62000, 77000, 94000]).range([0, 1, 2, 3, 4, 5]).clamp(true);
                    var alphaScale = d3.scale.linear().domain([0, 330000]).range([0.01, 0.2]).clamp(true);
                    var linkAlphaScale = d3.scale.linear().domain([0, 330000]).range([0, 1]).clamp(true);

                    var tree = {
                      name: &#39;Spine&#39;,
                      children: [
                        {
                          name: &#39;HipCenter&#39;,
                          children: [
                            {
                              name: &#39;HipLeft&#39;,
                              children: [
                                {
                                  name: &#39;KneeLeft&#39;,
                                  children: [
                                    {
                                      name: &#39;AnkleLeft&#39;,
                                      children: [
                                        {
                                          name: &#39;FootLeft&#39;
                                        }
                                      ]
                                    }
                                  ]
                                }
                              ]
                            },
                            {
                              name: &#39;HipRight&#39;,
                              children: [
                                {
                                  name: &#39;KneeRight&#39;,
                                  children: [
                                    {
                                      name: &#39;AnkleRight&#39;,
                                      children: [
                                        {
                                          name: &#39;FootRight&#39;
                                        }
                                      ]
                                    }
                                  ]
                                }
                              ]
                            }
                          ]
                        },
                        {
                          name: &#39;ShoulderCenter&#39;,
                          children: [
                            {
                              name: &#39;Head&#39;
                            },
                            {
                              name: &#39;ShoulderLeft&#39;,
                              children: [
                                {
                                  name: &#39;ElbowLeft&#39;,
                                  children: [
                                    {
                                      name: &#39;WristLeft&#39;,
                                      children: [
                                        {
                                          name: &#39;HandLeft&#39;
                                        }
                                      ]
                                    }
                                  ]
                                }
                              ]
                            },
                            {
                              name: &#39;ShoulderRight&#39;,
                              children: [
                                {
                                  name: &#39;ElbowRight&#39;,
                                  children: [
                                    {
                                      name: &#39;WristRight&#39;,
                                      children: [
                                        {
                                          name: &#39;HandRight&#39;
                                        }
                                      ]
                                    }
                                  ]
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    };

                    function getJointsOfSkeleton(json, skeleton) {
                      // Transform Kinect data into object
                      var joints = {};
                      if(json.Skeletons === undefined)
                        return;
                      if(skeleton &gt; json.Skeletons.length - 1)
                        return;
                      _.each(json.Skeletons[skeleton].Joints, function(joint) {
                        joints[joint.JointType] = joint;
                      });
                      return joints;
                    }

                    function initialiseTree() {
                      var treeLayout = d3.layout.tree()
                        .size([500, 500]);

                      var treeNodesArray = treeLayout(tree);
                      var treeLinksArray = treeLayout.links(treeNodesArray);

                      // keep tabs on original positions
                      treeNodesArray = _.map(treeNodesArray, function(node) {
                        node.startX = node.x,
                        node.startY = node.y
                        return node;
                      });

                      // convert to object
                      treeNodes = {};
                      _.each(treeNodesArray, function(node) {
                        treeNodes[node.name] = node;
                      })

                      treeLinks = treeLinksArray;

                      // console.log(treeLinksArray);
                    }

                    function drawTree() {
                      ctx.save();

                      ctx.strokeStyle = &#39;orange&#39;;
                      ctx.lineWidth = 0.5;

                      ctx.translate(300, 100);

                      ctx.globalAlpha = linkAlphaScale(Date.now() - startTime);

                      _.each(treeLinks, function(link) {
                        var node0 = treeNodes[link.source.name];
                        var node1 = treeNodes[link.target.name];

                        if(node0.depth &gt; depth || node1.depth &gt; depth)
                          return;

                        // console.log(node0);
                        drawLine(ctx, node0.x, node0.y, node1.x, node1.y);
                      });

                      ctx.globalAlpha = 0.9;

                      _.each(treeNodes, function(node) {
                        // console.log(node.depth, depth);
                        if(node.depth &gt; depth)
                          return;

                        ctx.fillStyle = colorScale(node.depth);
                        drawCircle(ctx, node.x, node.y, radiusScale(node.depth));
                        // ctx.fillStyle = &#39;white&#39;;
                        // ctx.textAlign = &#39;center&#39;;
                        // ctx.fillText(node.name, node.x, node.y);
                      });

                      ctx.restore();
                    }

                    function updateNodes(joints) {
                      // Interpolate between treeNodes and joints

                      function linearInterpolate(p0, p1, u) {
                        return (1 - u) * p0 + u * p1;
                      }

                      _.each(joints, function(joint) {
                        var jointType = joint.JointType;
                        var node = treeNodes[jointType];

                        // console.log(joint, node);

                        var u = interpolationScale(Date.now() - startTime);
                        node.x = linearInterpolate(node.startX, xScale(joint.Position.X), u);
                        node.y = linearInterpolate(node.startY, yScale(joint.Position.Y), u);
                      });

                      // console.log(treeNodes);
                    }

                    function clear() {
                      // ctx.globalAlpha = 0.9;
                      var alpha = alphaScale(Date.now() - startTime);
                      ctx.fillStyle = &quot;rgba(0,0,0,&quot; + alpha + &quot;)&quot;;
                      ctx.fillRect(0, 0, 1200, 800);
                    }

                    var canvas = document.getElementById(&#39;mycanvas&#39;);
                    var ctx = canvas.getContext(&#39;2d&#39;);

                    ctx.fillStyle = &quot;rgb(0,0,0)&quot;;
                    ctx.fillRect(0, 0, 1200, 800);

                    var treeNodes, treeLinks;
                    var startTime = Date.now();
                    var depth = 0;

                    initialiseTree();
                    drawTree();
                  // You can choose one of these to visualise a different dance
                  var DATASET_ALGORITHM = &#39;https://d10u56tzn9e9rq.cloudfront.net/algorithm_&#39;;

                  var DATASET_BINARY = &#39;https://d10u56tzn9e9rq.cloudfront.net/binary_&#39;;

                  var DATASET_WHOLEPIECE = &#39;https://d10u56tzn9e9rq.cloudfront.net/wholepiece_&#39;;

                  var dataFetcher = new ChunkedDataFetcher(DATASET_ALGORITHM);
                  dataFetcher.drawFunction = function(json) {
                      depth = Math.floor(depthScale(Date.now() - startTime));
                        // console.log(depth);

                        var joints = getJointsOfSkeleton(json, 0);
                        if(!joints)
                          return;

                        ctx.globalAlpha = 1;

                        // console.log(joints)

                        clear();

                        updateNodes(joints);
                        drawTree();
                  }
                  </code></pre>
                </div>
                <script async src="//codepen.io/assets/embed/ei.js"></script>

                <p class="codepen-footer">You can edit this data visualisation and watch the changes in real-time <a href='http://codepen.io/readysaltedcode/pen/ImbJL/'>here</a> on <a href='http://codepen.io'>CodePen</a>.</p>
              </div> <!-- /col -->
              <div class="col-lg-2 col-md-1 hidden-sm hidden-xs">
              </div> <!-- /col -->
            </div> <!-- /row -->



            <div id='code-container-2' class="row data-vis-code">
              <div class="col-lg-2 col-md-1 hidden-sm hidden-xs">
              </div> <!-- /col -->
              <div class="col-lg-8 col-md-10">
                <div data-height="3875" data-theme-id="8632" data-slug-hash="ILDyu" data-default-tab="js" data-user="readysaltedcode" class='codepen'>
                  <pre><code>
                    var canvas = document.getElementById(&#39;mycanvas&#39;);

                    var width = 1000, height = 600;

                    var color = d3.scale.category20();
                    var xScale = d3.scale.linear().domain([-1.5, 1.5]).range([0, width]);
                    var yScale = d3.scale.linear().domain([-1.5, 1.5]).range([height, 0]);

                    var ctx = canvas.getContext(&#39;2d&#39;);

                    ctx.fillStyle = &quot;rgb(0,0,0)&quot;;
                    ctx.fillRect(0, 0, width, height);

                      function draw1(json, err) {
                        var triangles = getTrianglesOfSkeleton(json, 0);

                        // console.log(triangles);

                        // ctx.fillStyle = &quot;rgba(0, 0, 0, 0.01)&quot;;
                        // ctx.fillRect(0, 0, width, height);

                        // ctx.globalCompositeOperation = &#39;xor&#39;;
                          ctx.beginPath();
                          ctx.fillStyle = &#39;#aec7e8&#39;;
                        _.each(triangles, function(triangle, index) {
                          _.each(triangle, function(vertex) {
                            var x = xScale(vertex.X);
                            var y = yScale(vertex.Y);
                            ctx.lineTo(x, y);
                          });
                        });

                        // Draw head
                        _.each(json.Skeletons[0].Joints, function(j) {
                          if(j.JointType !== &#39;Head&#39;)
                            return;
                          var x = xScale(j.Position.X);
                          var y = yScale(j.Position.Y);
                          ctx.lineTo(x,y);
                        });

                       ctx.fill();
                    }

                    function draw2(json, err) {
                        var triangles = getTrianglesOfSkeleton(json, 0);

                        // console.log(triangles);

                        ctx.fillStyle = &quot;rgba(0, 0, 0, 0.01)&quot;;
                        ctx.fillRect(0, 0, width, height);

                        // ctx.globalCompositeOperation = &#39;xor&#39;;
                          ctx.beginPath();
                          ctx.fillStyle = &#39;#aec7e8&#39;;
                        _.each(triangles, function(triangle, index) {
                          _.each(triangle, function(vertex) {
                            var x = xScale(vertex.X);
                            var y = yScale(vertex.Y);
                            ctx.lineTo(x, y);
                          });
                        });

                        // Draw head
                        _.each(json.Skeletons[0].Joints, function(j) {
                          if(j.JointType !== &#39;Head&#39;)
                            return;
                          var x = xScale(j.Position.X);
                          var y = yScale(j.Position.Y);
                          ctx.lineTo(x,y);
                        });

                       ctx.fill();
                    }


                    function draw3(json, err) {
                        var triangles = getTrianglesOfSkeleton(json, 0);

                         ctx.fillStyle = &quot;rgba(0, 0, 0, 0.03)&quot;;
                        ctx.fillRect(0, 0, width, height);

                          ctx.fillStyle = &#39;#aec7e8&#39;;

                        _.each(triangles, function(triangle) {
                          ctx.beginPath();
                          _.each(triangle, function(vertex) {
                            var x = xScale(vertex.X);
                            var y = yScale(vertex.Y);
                            ctx.lineTo(x, y);
                          });
                          ctx.fill();
                        });

                        // Draw head
                        _.each(json.Skeletons[0].Joints, function(j) {
                          if(j.JointType !== &#39;Head&#39;)
                            return;

                          var x = xScale(j.Position.X);
                          var y = yScale(j.Position.Y);
                          drawCircle(ctx, x, y, 18);
                        });
                    }

                    function draw4(json, err) {
                        var triangles = getTrianglesOfSkeleton(json, 0);

                        // console.log(triangles);

                        ctx.fillStyle = &quot;rgba(0, 0, 0, 0.05)&quot;;   // 0.01 a nice setting
                        ctx.fillRect(0, 0, width, height);

                        _.each(triangles, function(triangle, index) {
                          ctx.fillStyle = color(index);
                          ctx.beginPath();
                          _.each(triangle, function(vertex) {
                            var x = xScale(vertex.X);
                            var y = yScale(vertex.Y);
                            ctx.lineTo(x, y);
                          });
                          ctx.fill();
                        });

                        // Draw head
                        _.each(json.Skeletons[0].Joints, function(j) {
                          if(j.JointType !== &#39;Head&#39;)
                            return;

                          ctx.fillStyle = color(15);
                          var x = xScale(j.Position.X);
                          var y = yScale(j.Position.Y);
                          drawCircle(ctx, x, y, 18);
                        });
                    }


                    function draw5(json, err) {

                        var triangles = getTrianglesOfSkeleton(json, 0);

                        // console.log(triangles);

                        ctx.fillStyle = &quot;rgba(0, 0, 0, 0.2)&quot;;   // 0.01 a nice setting
                        ctx.fillRect(0, 0, width, height);

                        _.each(triangles, function(triangle, index) {
                          ctx.fillStyle = color(index);
                          ctx.beginPath();
                          _.each(triangle, function(vertex) {
                            var x = xScale(vertex.X);
                            var y = yScale(vertex.Y);
                            ctx.lineTo(x, y);
                          });
                          ctx.fill();
                        });

                        // Draw head
                        _.each(json.Skeletons[0].Joints, function(j) {
                          if(j.JointType !== &#39;Head&#39;)
                            return;

                          ctx.fillStyle = color(15);
                          var x = xScale(j.Position.X);
                          var y = yScale(j.Position.Y);
                          drawCircle(ctx, x, y, 18);
                        });
                    }

                    // poll();
                    var drawFunction = draw1;

                    setTimeout(function() {drawFunction = draw2;}, 8000);
                    setTimeout(function() {drawFunction = draw3;}, 16000);
                    setTimeout(function() {drawFunction = draw4;}, 24000);
                    setTimeout(function() {drawFunction = draw5;}, 32000);


                  // You can choose one of these to visualise a different dance
                  var DATASET_ALGORITHM = &#39;https://s3-eu-west-1.amazonaws.com/arrastre/data/algorithm_&#39;;

                  var DATASET_BINARY = &#39;https://s3-eu-west-1.amazonaws.com/arrastre/data/binary_&#39;;

                  var DATASET_WHOLEPIECE = &#39;https://s3-eu-west-1.amazonaws.com/arrastre/data/wholepiece_&#39;;

                  var dataFetcher = new ChunkedDataFetcher(DATASET_ALGORITHM);
                  dataFetcher.drawFunction = function(json) {
                        drawFunction(json, null);
                  }
                  </code></pre>
                </div>
                <script async src="//codepen.io/assets/embed/ei.js"></script>

                <p class="codepen-footer">You can edit this data visualisation and watch the changes in real-time <a href='http://codepen.io/readysaltedcode/pen/ILDyu/'>here</a> on <a href='http://codepen.io'>CodePen</a>.</p>

              </div> <!-- /col -->
              <div class="col-lg-2 col-md-1 hidden-sm hidden-xs">
              </div> <!-- /col -->
            </div> <!-- /row -->




            <div id='code-container-3' class="row data-vis-code">
              <div class="col-lg-2 col-md-1 hidden-sm hidden-xs">
              </div> <!-- /col -->
              <div class="col-lg-8 col-md-10">
                <div data-height="1350" data-theme-id="8632" data-slug-hash="yLebI" data-default-tab="js" data-user="readysaltedcode" class='codepen'>
                  <pre><code>
                    // BIGDATA
                    // For a single skeleton, each joint position is represented with 3 points (one for each co-ordinate). Each joint has a unique colour.
                    // The value of each co-ordinate is mapped to the y-axis. The x-axis is random.

                    function BigData(canvas) {
                      this.width = 1200;
                      this.height = 800;

                      this.startTime = Date.now();

                      this.color = d3.scale.category20b();
                      this.scale = d3.scale.linear().domain([-3, 6]).range([1000, 0]);
                      this.indexScale = d3.scale.threshold().domain([0, 54000, 70000, 84000, 120000, 154000, 167000, 200000, 230000]).range([0, 3, 10, 40, 10, 1, 60, 20, 10, 10]);

                      this.ctx = canvas.getContext(&#39;2d&#39;);

                      this.ctx.fillStyle = &quot;rgb(0,0,0)&quot;;
                      this.ctx.fillRect(0, 0, this.width, this.height);

                      this.draw = function(json) {
                        var ctx = this.ctx;
                        var width = this.width;
                        var height = this.height;
                        var startTime = this.startTime;
                        var scale = this.scale;
                        var indexScale = this.indexScale;
                        var color = this.color;
                        if(json === undefined) {
                          return;
                        }

                        var data = getDataOfSkeleton(json, 0);

                        ctx.globalAlpha = 1;

                        ctx.fillStyle = &quot;rgba(0, 0, 0, 0.02)&quot;;
                        ctx.fillRect(0, 0, width, height);

                        var indexThreshold = indexScale(Date.now() - startTime);
                        // d3.select(&#39;#info&#39;).text(indexThreshold);

                        _.each(data, function(d, index) {
                          if(index &gt; indexThreshold)
                            return;

                          var x = Math.random() * width;
                          var y = scale(d) % height;
                          ctx.fillStyle = color(index % 20);
                          drawCircle(ctx, x, y, 5);
                        });
                      };
                    };

                    // You can choose one of these to visualise a different dance
                    var DATASET_ALGORITHM = &#39;https://s3-eu-west-1.amazonaws.com/arrastre/data/algorithm_&#39;;

                    var DATASET_BINARY = &#39;https://s3-eu-west-1.amazonaws.com/arrastre/data/binary_&#39;;

                    var DATASET_WHOLEPIECE = &#39;https://s3-eu-west-1.amazonaws.com/arrastre/data/wholepiece_&#39;;

                    var dataFetcher = new ChunkedDataFetcher(DATASET_ALGORITHM);
                    var bigData = new BigData( document.getElementById(&#39;mycanvas&#39;));
                    dataFetcher.drawFunction = function(json) {bigData.draw(json);}
                    </code></pre>
                  </div>
                <script async src="//codepen.io/assets/embed/ei.js"></script>

                <p class="codepen-footer">You can edit this data visualisation and watch the changes in real-time <a href='http://codepen.io/readysaltedcode/pen/yLebI/'>here</a> on <a href='http://codepen.io'>CodePen</a>.</p>
              </div> <!-- /col -->
              <div class="col-lg-2 col-md-1 hidden-sm hidden-xs">
              </div> <!-- /col -->
            </div> <!-- /row -->





            <div id='code-container-4' class="row data-vis-code">
              <div class="col-lg-2 col-md-1 hidden-sm hidden-xs">
              </div> <!-- /col -->
              <div class="col-lg-8 col-md-10">
                <div data-height="1850" data-theme-id="8632" data-slug-hash="ALDEp" data-default-tab="js" data-user="readysaltedcode" class='codepen'>
                  <pre><code>
                    function BooleanVis(canvas) {
                    var width = 1000;
                    var height = 800;

                    // var color = d3.scale.category20();
                    var color = d3.scale.linear().domain([-1, 0]).range([&#39;white&#39;, &#39;red&#39;]);
                    var scale = d3.scale.linear().domain([-3, 3]).range([0, 255]);
                    var startTime = Date.now();

                    // Duration 4:06
                    var chanceOfBinary = d3.scale.linear().domain([startTime, startTime + 135000, startTime + 222000, startTime + 223000, startTime + 300000]).range([0, 0, 1, 1, 1]).clamp(true);
                    var numCirclesScale = d3.scale.linear().domain([startTime, startTime + 135000, startTime + 222000, startTime + 223000, startTime + 300000]).range([0, 0, 5, 0, 0]).clamp(true);
                    var textScale = d3.scale.linear().domain([startTime, startTime + 135000, startTime + 235000, startTime + 300000]).range([0, 0, 100, 100]).clamp(true);


                    this.color = d3.scale.category20b();
                    this.scale = d3.scale.linear().domain([-3, 6]).range([1000, 0]);
                    this.indexScale = d3.scale.threshold().domain([0, 54000, 70000, 84000, 120000, 154000, 167000, 200000, 230000]).range([0, 3, 10, 40, 10, 1, 60, 20, 10, 10]);

                    var ctx = canvas.getContext(&#39;2d&#39;);

                    ctx.fillStyle = &quot;rgb(0,0,0)&quot;;
                    ctx.fillRect(0, 0, this.width, this.height);

                    // poll()
                    this.poll = function() {
                      var me = this;
                      d3.json(&#39;/playbackServer/api/data.json&#39;, function(err,json){me.draw(err,json);});
                    };

                    this.draw = function(json) {
                      if(json === undefined) return;

                      var data = getDataOfSkeleton(json, 0);
                      // console.log(data);
                      // data = data.slice(0, 8);

                      ctx.fillStyle = &quot;rgba(0, 0, 0, 0.1)&quot;;
                      ctx.fillRect(0, 0, width, height);

                      // ctx.font = &#39;15px sans-serif&#39;;

                      var t = Date.now();

                      var threshold = numCirclesScale(t);

                      _.each(data, function(d, index) {
                        // console.log(index);

                        if(index &gt; threshold)
                          return;

                        var drawAsBinary = Math.random() &lt; chanceOfBinary(t);
                        if(drawAsBinary) {

                          var fontSize = Math.random() * textScale(t) + 8;
                          ctx.font = &#39;bold &#39; + fontSize + &#39;px sans-serif&#39;;

                          var binary = Math.round(scale(d)).toString(2);
                          _.each(binary, function(bit) {
                            var x = Math.random() * width;
                            var y = Math.random() * height;
                            ctx.fillStyle = bit === &#39;1&#39; ? &#39;red&#39; : &#39;white&#39;;

                            ctx.fillText(bit, x, y);
                          });
                        } else {
                          var x = Math.random() * width;
                          var y = Math.random() * height;
                          ctx.fillStyle = color(d);

                          drawCircle(ctx, x, y, 4);
                        }
                      });
                    };
                  };

                  // You can choose one of these to visualise a different dance
                  var DATASET_ALGORITHM = &#39;https://s3-eu-west-1.amazonaws.com/arrastre/data/algorithm_&#39;;

                  var DATASET_BINARY = &#39;https://s3-eu-west-1.amazonaws.com/arrastre/data/binary_&#39;;

                  var DATASET_WHOLEPIECE = &#39;https://s3-eu-west-1.amazonaws.com/arrastre/data/wholepiece_&#39;;

                  var dataFetcher = new ChunkedDataFetcher(DATASET_ALGORITHM);
                  var boolean = new BooleanVis( document.getElementById(&#39;mycanvas&#39;));
                  dataFetcher.drawFunction = function(json) {boolean.draw(json);
                  }

                </code></pre>
                </div><script async src="//codepen.io/assets/embed/ei.js"></script>
                <p class="codepen-footer">You can edit this data visualisation and watch the changes in real-time <a href='http://codepen.io/readysaltedcode/pen/ALDEp/'>here</a> on <a href='http://codepen.io'>CodePen</a>.</p>
              </div> <!-- /col -->
              <div class="col-lg-2 col-md-1 hidden-sm hidden-xs">
              </div> <!-- /col -->
            </div> <!-- /row -->





            <div id='code-container-5' class="row data-vis-code">
              <div class="col-lg-2 col-md-1 hidden-sm hidden-xs">
              </div> <!-- /col -->
              <div class="col-lg-8 col-md-10">
                <div data-height="2300" data-theme-id="8632" data-slug-hash="Ewgus" data-default-tab="js" data-user="readysaltedcode" class='codepen'>
                  <pre><code>
                    function Computational(canvas) {
                      var xScale = d3.scale.linear().domain([-1, 1]).range([0, 1000]);
                      var yScale = d3.scale.linear().domain([-0.2, 1.2]).range([1000, 0]);

                      var ctx = canvas.getContext(&#39;2d&#39;);

                      ctx.fillStyle = &quot;rgb(0,0,0)&quot;;
                      ctx.fillRect(0, 0, 1000, 800);

                      // 3 colours, one for extremities, another for insides, another for in-betweens
                      var colors = {
                        HipCenter : &#39;#ff7f0e&#39;,
                        Spine : &#39;#ff7f0e&#39;,
                        ShoulderCenter : &#39;#ff7f0e&#39;,
                        Head : &#39;#e7cb94&#39;,
                        ShoulderLeft : &#39;#bd9e39&#39;,
                        ElbowLeft : &#39;#bd9e39&#39;,
                        WristLeft : &#39;#bd9e39&#39;,
                        HandLeft : &#39;#e7cb94&#39;,
                        ShoulderRight : &#39;#bd9e39&#39;,
                        ElbowRight : &#39;#bd9e39&#39;,
                        WristRight : &#39;#bd9e39&#39;,
                        HandRight : &#39;#e7cb94&#39;,
                        HipLeft : &#39;#bd9e39&#39;,
                        KneeLeft : &#39;#bd9e39&#39;,
                        AnkleLeft : &#39;#bd9e39&#39;,
                        FootLeft : &#39;#e7cb94&#39;,
                        HipRight : &#39;#bd9e39&#39;,
                        KneeRight : &#39;#bd9e39&#39;,
                        AnkleRight : &#39;#bd9e39&#39;,
                        FootRight : &#39;#e7cb94&#39;
                      }

                      // Colour coded hands + feet
                      // var colors = {
                      //   HipCenter : &#39;#5254a3&#39;,
                      //   Spine : &#39;#5254a3&#39;,
                      //   ShoulderCenter : &#39;#5254a3&#39;,
                      //   Head : &#39;#5254a3&#39;,
                      //   ShoulderLeft : &#39;#5254a3&#39;,
                      //   ElbowLeft : &#39;#5254a3&#39;,
                      //   WristLeft : &#39;#5254a3&#39;,
                      //   HandLeft : &#39;#637939&#39;,
                      //   ShoulderRight : &#39;#5254a3&#39;,
                      //   ElbowRight : &#39;#5254a3&#39;,
                      //   WristRight : &#39;#5254a3&#39;,
                      //   HandRight : &#39;#8c6d31&#39;,
                      //   HipLeft : &#39;#5254a3&#39;,
                      //   KneeLeft : &#39;#5254a3&#39;,
                      //   AnkleLeft : &#39;#5254a3&#39;,
                      //   FootLeft : &#39;#843c39&#39;,
                      //   HipRight : &#39;#5254a3&#39;,
                      //   KneeRight : &#39;#5254a3&#39;,
                      //   AnkleRight : &#39;#5254a3&#39;,
                      //   FootRight : &#39;#7b4173&#39;
                      // }

                      function getAllJoints(json) {
                        var joints = [];
                        _.each(json.Skeletons, function(skeleton) {
                          _.each(skeleton.Joints, function(joint) {
                            joints.push(joint);
                          });
                        });
                        return joints;
                      }

                      function getJointsOfSkeleton(json, skeleton) {
                        var joints = [];
                        if(json.Skeletons === undefined)
                          return [];
                        if(skeleton &gt; json.Skeletons.length - 1)
                          return [];
                        _.each(json.Skeletons[skeleton].Joints, function(joint) {
                          joints.push(joint);
                        });
                        return joints;
                      }

                      function clear() {
                        ctx.globalAlpha = 1;
                        ctx.fillStyle = &quot;rgb(0,0,0)&quot;;
                        ctx.fillRect(0, 0, 1000, 800);
                      }

                      this.draw = function(json) {
                        // console.log(json);
                        if(json === undefined) {
                          return;
                        }

                        var joints = getJointsOfSkeleton(json, 0);
                        ctx.globalAlpha = 0.03;

                        _.each(joints, function(joint, i) {
                          // console.log(joint.JointType)
                          ctx.fillStyle = colors[joint.JointType];
                          drawCircle(ctx, xScale(joint.Position.X), yScale(joint.Position.Y), 3);
                        });
                      };
                    };

                    // You can choose one of these to visualise a different dance
                    var DATASET_ALGORITHM = &#39;https://s3-eu-west-1.amazonaws.com/arrastre/data/algorithm_&#39;;

                    var DATASET_BINARY = &#39;https://s3-eu-west-1.amazonaws.com/arrastre/data/binary_&#39;;

                    var DATASET_WHOLEPIECE = &#39;https://s3-eu-west-1.amazonaws.com/arrastre/data/wholepiece_&#39;;

                    var dataFetcher = new ChunkedDataFetcher(DATASET_ALGORITHM);
                    var computational = new Computational( document.getElementById(&#39;mycanvas&#39;));
                    dataFetcher.drawFunction = function(json) {computational.draw(json);
                    }
                </code></pre>
                </div><script async src="//codepen.io/assets/embed/ei.js"></script>
                <p class="codepen-footer">You can edit this data visualisation and watch the changes in real-time <a href='http://codepen.io/readysaltedcode/pen/Ewgus/'>here</a> on <a href='http://codepen.io'>CodePen</a>.</p>
              </div> <!-- /col -->
              <div class="col-lg-2 col-md-1 hidden-sm hidden-xs">
              </div> <!-- /col -->
            </div> <!-- /row -->





          </div><!-- /datavis -->
        </div> <!-- /col -->
      </div> <!-- main-container -->

       <div class="row">
        <div class="col-lg-2 col-md-1 hidden-sm hidden-xs"></div>
        <div class="col-lg-8 col-md-10">
          <div class="col-lg-7 col-md-7 col-sm-7 col-xs-8 footer-left">
            <p>&copy; COPYRIGHT 2014 <a href="http://www.readysaltedcode.org/" class="footer-link">READYSALTEDCODE CIC</a></p>
          </div> <!-- /col -->
          <div class="col-lg-5 col-md-5 col-sm-5 col-xs-4 footer-right">
            <p><a href="termsandconditions.html" class="footer-link">TERMS &amp; CONDITIONS</a></p>
          </div> <!-- /col -->
        </div> <!-- /col -->
        <div class="col-lg-2 col-md-1 hidden-sm hidden-xs">
        </div> <!-- /col -->
      </div> <!-- /row -->
    </div> <!-- /container -->


    <!-- Scripts
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
    <script src="js/bootstrap.min.js"></script>
    <script src="js/main.js"></script>

  </body>
</html>
